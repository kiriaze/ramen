# üçú Ramen

üí• A **RESTful API** boilerplate built with **MongoDB**, **Express** & **Node**.

## Getting Started

This project was made to help with building RESTful APIs and microservices in a quick an easy manner ontop of Node.js, Express, Mongoose, Heroku, Atlas, Nodemon and Babel using async/await and JWT.

<!--![](https://media.giphy.com/media/DLYMDk6eYRbkA/giphy.gif)-->

![](https://media.giphy.com/media/Cd7Y7tJ4pHbGM/giphy.gif)

## Requirements

- [MongoDb/Atlas](https://cloud.mongodb.com/)
- [Express](https://expressjs.com/)
- [Node.js](http://nodejs.org/)
- [Heroku](https://heroku.com/) (Optional)
- [Postman](https://postman.com) (Recommended)

## Installation Steps

1. `npm i`
2. To run server: `npm start`
   - If you're housing your frontend with your api (frontend code within client directory), run `npm run dev` instead.

#### üí• To connect to Atlas/Cloud.mongodb.com

- Make a copy of `config/default.example.json` to `config/default.json` with your cloud.mongo/atlas values to work locally in test. For production, create a `config/production.json` file respectively.

#### üöÄ To deploy to Heroku:

##### Prerequisites: This assumes you have a frontend within the `client` directory for the heroku build script to run correctly. Recommended: React app; e.g. CRA within ./client. After which, add `"proxy": "http://localhost:5000"` within `./client/package.json` in order for both to communicate.

<!-- prettier-ignore -->
- Create your Heroku account.
- Install heroku cli via their installer (link to heroku) or homebrew.
- Log into your heroku account with `heroku login`.
- Create your Heroku application if one isn't created yet; `heroku create`
- Since we're ignoring the `./config/*.json` files which Heroku requires for a successful build, we should create a local only branch (e.g. production) to deploy from: 	- `git checkout -b production`
- Add the config file into our track: `git add -f config/production.json`
- Commit your changes; `git commit -am 'deploy...'`
- Push up your local production branch for deployment; `git push heroku production:master`
- Don't forget to make sure your production database is not whitelisted in MongoDB Atlas, otherwise the database connection will fail and your app will crash.
- For subsequent changes, work off master and merge those into your local branch when ready to rebuild/deploy.

### Notes

- Import `./Ramen.postman_collection.json` into Postman to rapidly setup the endpoints.
- Non-MVC
  - No need for controllers since we're following the open/closed principle from S.O.L.I.D.
- If you want to deploy to Heroku without the need of a `./client` directory (i.e. standalone api), then remove the `heroku-postbuild` npm script within `./package.json`. You may also remove the `client` and `dev` scripts as they would no longer apply.

#### Todo's

<!-- prettier-ignore -->
- ~~Add an extra route/model for an example of data; e.g. post/task/etc.~~
- Add API autogenerated documentation: https://www.postman.com/api-documentation-generator
- ~~API collection example for Postman.~~
- Mailer example with Nodemailer (recommended) or Mailgun.
- Testing with mocha/chai for API endpoints.
- Integrate dotenv to replace config/\* values.
- Consider updating the heroku postbuild references, as this is technically standalone api, with the option to bring in frontend within client dir and deployment to heroku is tied to a postbuild script that builds out client prior to deploying both the api+client/build; as its referenced in ./server.js.
	- to that, we could seperate all the client refs within this repo, true standalone, and within a frontend repo we would have env vars for dev/prod/etc. referencing a APP_API_URL that would point either to http://localhost:5000 or the live/prod version of the api e.g. ramen-api.herokuapp.com
- Consider having this codebase within a dir (e.g. ./src/ or ./api/)?
- Consider a different project structure that's based on components:

```
‚îÄ src
  ‚îÄ api
    ‚îÄ components
      ‚îÄ user
        - controller.ts (optional)
        - model.ts
        - routes.ts
        - service.ts
```

---

## License
